(this.webpackJsonpowwinloss=this.webpackJsonpowwinloss||[]).push([[0],{14:function(e,t,a){e.exports=a(39)},19:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(11),r=a.n(c),o=(a(19),a(2)),u=a(1),i=["Ayutthaya","Black Forest","Blizzard World","Busan","Castillo","Ch\xe2teau Guillard","Dorado","Ecopoint: Antarctica","Eichenwalde","Hanamura","Havana","Hollywood","Horizon Lunar Colony","Ilios","Junkertown","King's Row","Lijiang Tower","Necropolis","Nepal","Numbani","Oasis","Paris","Petra","Rialto","Route 66","Temple of Anubis","Volskaya Industries","Watchpoint: Gibraltar"],s=function(e,t){return e===t?"Tie":e>t?"Win":"Loss"};a(8);function m(e){var t=Object(n.useState)(i[0]),a=Object(u.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(0),m=Object(u.a)(o,2),d=m[0],E=m[1],b=Object(n.useState)(0),p=Object(u.a)(b,2),g=p[0],f=p[1],h=Object(n.useState)(!0),O=Object(u.a)(h,2),j=O[0],S=O[1],v=Object(n.useState)(!1),w=Object(u.a)(v,2),k=w[0],y=w[1],R=Object(n.useState)(e.latestSR||0),N=Object(u.a)(R,2),C=N[0],L=N[1],T=Object(n.useState)(""),D=Object(u.a)(T,2),I=D[0],W=D[1],x=function(e){S(!j)};return Object(n.useEffect)((function(){e.onUpdate(e.id,c,d,g,k,C,e.added)}),[c,d,g,k,C]),k?l.a.createElement(l.a.Fragment,null):j?l.a.createElement("tr",null,l.a.createElement("td",null,c),l.a.createElement("td",null,"".concat(d," - ").concat(g)),l.a.createElement("td",null,s(d,g)),l.a.createElement("td",null,C),l.a.createElement("td",null,new Date(e.added).toLocaleTimeString()),l.a.createElement("td",null,I),l.a.createElement("td",null,l.a.createElement("div",{className:"clickable emoji",title:"Row locked",onClick:x},"\ud83d\udd12"))):l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("select",{name:"stage",onChange:function(e){r(e.target.value)}},i.map((function(e){return l.a.createElement("option",{key:e,value:e},e)})))),l.a.createElement("td",null,l.a.createElement("input",{type:"number",min:0,value:d,onChange:function(e){E(e.target.value)}})," - ",l.a.createElement("input",{type:"number",min:0,value:g,onChange:function(e){f(e.target.value)}})),l.a.createElement("td",null,s(d,g)),l.a.createElement("td",null,l.a.createElement("input",{type:"number",min:0,value:C,onChange:function(e){L(isNaN(parseInt(e.target.value))?0:parseInt(e.target.value))}})),l.a.createElement("td",null,new Date(e.added).toLocaleTimeString()),l.a.createElement("td",null,l.a.createElement("textarea",{onChange:function(e){W(e.target.value)}},I)),l.a.createElement("td",null,l.a.createElement("div",{className:"clickable emoji",title:"Row unlocked",onClick:x},"\ud83d\udd13")),l.a.createElement("td",null,l.a.createElement("div",{className:"clickable emoji",title:"Delete",onClick:function(){y(!0)}},"\u274c")))}var d=a(12),E=a.n(d),b=a(13);a(28),a(38);function p(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),i=Object(u.a)(r,2),d=i[0],p=i[1],g=Object(n.useState)(0),f=Object(u.a)(g,2),h=f[0],O=f[1],j=Object(n.useState)(0),S=Object(u.a)(j,2),v=S[0],w=S[1],k=Object(n.useState)(0),y=Object(u.a)(k,2),R=y[0],N=y[1],C=Object(n.useState)(0),L=Object(u.a)(C,2),T=L[0],D=L[1],I=Object(n.useState)(0),W=Object(u.a)(I,2),x=W[0],B=W[1],A=Object(n.useState)(new Date),H=Object(u.a)(A,2),z=H[0],J=(H[1],Object(n.useState)({labels:["Starting SR"],datasets:[{values:[T]}]})),P=Object(u.a)(J,2),F=P[0],G=P[1],M=function(e,t,a,n,l,c,r){if(console.log(e,t,a,n,l,c),l){var u=d.findIndex((function(t){return t.key===e}));d.splice(u,1),p(d),console.log("deleted",d)}else if(-1===d.findIndex((function(t){return t.key===e})))d.push({key:e,stage:t,matchOutcome:s(a,n),endSR:c,timestamp:new Date(r).valueOf()}),console.log("pushed",d);else{var i=d.findIndex((function(t){return t.key===e}));d[i].matchOutcome=s(a,n),d[i].endSR=c,d[i].stage=t,console.log("in-placed",d)}G({labels:["Starting SR"].concat(Object(o.a)(d.sort((function(e,t){return e.timestamp-t.timestamp})).map((function(e){return e.stage})))),datasets:[{values:[T].concat(Object(o.a)(d.sort((function(e,t){return e.timestamp-t.timestamp})).map((function(e){return e.endSR}))))}]}),O(d.filter((function(e){return"Win"===e.matchOutcome})).length),w(d.filter((function(e){return"Tie"===e.matchOutcome})).length),N(d.filter((function(e){return"Loss"===e.matchOutcome})).length),B(d.length>0?d[d.length-1].endSR:T),p(d)};return l.a.createElement("div",{className:"App"},l.a.createElement("header",null,l.a.createElement("r-grid",{columns:8},l.a.createElement("r-cell",{span:"1-4","span-s":"row"},l.a.createElement("h4",{className:"title"},"Win/Loss"),l.a.createElement("div",{className:"starting-sr"},"Starting SR: ",l.a.createElement("input",{type:"number",value:T,onChange:function(e){D(e.target.value),0===a.filter((function(e){return null!==e})).length&&B(e.target.value),G({labels:["Starting SR"].concat(Object(o.a)(d.sort((function(e,t){return e.timestamp-t.timestamp})).map((function(e){return e.stage})))),datasets:[{values:[T].concat(Object(o.a)(d.sort((function(e,t){return e.timestamp-t.timestamp})).map((function(e){return e.endSR}))))}]})}})," ",l.a.createElement("br",null),"Role: ",l.a.createElement("select",{name:"role"},["(Not selected)","Tank","Damage","Support"].map((function(e){return l.a.createElement("option",{key:e,value:e},e)})))),l.a.createElement("a",{className:"button",onClick:function(e){var t=d.length>0?d[d.length-1].endSR:T,n=E.a.generate();c([].concat(Object(o.a)(a),[l.a.createElement(m,{key:n,id:n,onUpdate:M,added:new Date,latestSR:t})]))}},"New row"),l.a.createElement("h1",{className:"win-loss"},"".concat(h," - ").concat(R),l.a.createElement("span",{className:"ties"},v>0?", ".concat(v," tie").concat(v>1?"s":""):"")),l.a.createElement("h3",{className:"sr"},"".concat(x-T>=0?"+":"").concat(x-T," SR"),l.a.createElement("span",{className:"small"},l.a.createElement("br",null),"Page opened @ ",z.toLocaleTimeString()))),l.a.createElement("r-cell",{span:"5-8","span-s":"row"},l.a.createElement(b.a,{type:"line",colors:["#c213f4"],height:450,data:F})))),l.a.createElement("hr",null),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Map"),l.a.createElement("th",null,"Score"),l.a.createElement("th",null,"Win/Loss"),l.a.createElement("th",null,"End SR"),l.a.createElement("th",null,"Time added"),l.a.createElement("th",null,"Notes"))),l.a.createElement("tbody",null,a)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){}},[[14,1,2]]]);
//# sourceMappingURL=main.cdc371db.chunk.js.map